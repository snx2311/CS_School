{"ast":null,"code":"\"use strict\";\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.commitServerChanges = commitServerChanges;\nexports.defaultState = defaultState;\nexports.estimateAttribute = estimateAttribute;\nexports.estimateAttributes = estimateAttributes;\nexports.mergeFirstPendingState = mergeFirstPendingState;\nexports.popPendingState = popPendingState;\nexports.pushPendingState = pushPendingState;\nexports.setPendingOp = setPendingOp;\nexports.setServerData = setServerData;\nvar _create = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/create\"));\nvar _includes = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/includes\"));\nvar _isArray = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\"));\nvar _stringify = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/json/stringify\"));\nvar _encode = _interopRequireDefault(require(\"./encode\"));\nvar _CoreManager = _interopRequireDefault(require(\"./CoreManager\"));\nvar _ParseFile = _interopRequireDefault(require(\"./ParseFile\"));\nvar _ParseRelation = _interopRequireDefault(require(\"./ParseRelation\"));\nvar _TaskQueue = _interopRequireDefault(require(\"./TaskQueue\"));\nvar _ParseOp = require(\"./ParseOp\");\nvar _isDangerousKey = require(\"./isDangerousKey\");\nfunction defaultState() {\n  return {\n    serverData: (0, _create.default)(null),\n    pendingOps: [(0, _create.default)(null)],\n    objectCache: (0, _create.default)(null),\n    tasks: new _TaskQueue.default(),\n    existed: false\n  };\n}\nfunction setServerData(serverData, attributes) {\n  for (const attr in attributes) {\n    // Skip properties from prototype chain\n    if (!Object.prototype.hasOwnProperty.call(attributes, attr)) {\n      continue;\n    }\n    // Skip dangerous keys that could pollute prototypes\n    if ((0, _isDangerousKey.isDangerousKey)(attr)) {\n      continue;\n    }\n    if (typeof attributes[attr] !== \"undefined\") {\n      serverData[attr] = attributes[attr];\n    } else {\n      delete serverData[attr];\n    }\n  }\n}\nfunction setPendingOp(pendingOps, attr, op) {\n  // Skip dangerous keys that could pollute prototypes\n  if ((0, _isDangerousKey.isDangerousKey)(attr)) {\n    return;\n  }\n  const last = pendingOps.length - 1;\n  if (op) {\n    pendingOps[last][attr] = op;\n  } else {\n    delete pendingOps[last][attr];\n  }\n}\nfunction pushPendingState(pendingOps) {\n  pendingOps.push((0, _create.default)(null));\n}\nfunction popPendingState(pendingOps) {\n  const first = pendingOps.shift();\n  if (!pendingOps.length) {\n    pendingOps[0] = (0, _create.default)(null);\n  }\n  return first;\n}\nfunction mergeFirstPendingState(pendingOps) {\n  const first = popPendingState(pendingOps);\n  const next = pendingOps[0];\n  for (const attr in first) {\n    // Skip properties from prototype chain\n    if (!Object.prototype.hasOwnProperty.call(first, attr)) {\n      continue;\n    }\n    // Skip dangerous keys that could pollute prototypes\n    if ((0, _isDangerousKey.isDangerousKey)(attr)) {\n      continue;\n    }\n    if (next[attr] && first[attr]) {\n      const merged = next[attr].mergeWith(first[attr]);\n      if (merged) {\n        next[attr] = merged;\n      }\n    } else {\n      next[attr] = first[attr];\n    }\n  }\n}\nfunction estimateAttribute(serverData, pendingOps, object, attr) {\n  // Skip dangerous keys that could pollute prototypes\n  if ((0, _isDangerousKey.isDangerousKey)(attr)) {\n    return undefined;\n  }\n  let value = serverData[attr];\n  for (let i = 0; i < pendingOps.length; i++) {\n    if (pendingOps[i][attr]) {\n      if (pendingOps[i][attr] instanceof _ParseOp.RelationOp) {\n        if (object.id) {\n          value = pendingOps[i][attr].applyTo(value, object, attr);\n        }\n      } else {\n        value = pendingOps[i][attr].applyTo(value);\n      }\n    }\n  }\n  return value;\n}\nfunction estimateAttributes(serverData, pendingOps, object) {\n  const data = (0, _create.default)(null);\n  for (var attr in serverData) {\n    data[attr] = serverData[attr];\n  }\n  for (let i = 0; i < pendingOps.length; i++) {\n    for (attr in pendingOps[i]) {\n      // Skip properties from prototype chain\n      if (!Object.prototype.hasOwnProperty.call(pendingOps[i], attr)) {\n        continue;\n      }\n      // Skip dangerous keys that could pollute prototypes\n      if ((0, _isDangerousKey.isDangerousKey)(attr)) {\n        continue;\n      }\n      if (pendingOps[i][attr] instanceof _ParseOp.RelationOp) {\n        if (object.id) {\n          data[attr] = pendingOps[i][attr].applyTo(data[attr], object, attr);\n        }\n      } else {\n        if ((0, _includes.default)(attr).call(attr, '.')) {\n          // similar to nestedSet function\n          const fields = attr.split('.');\n          const last = fields[fields.length - 1];\n          let object = data;\n          for (let i = 0; i < fields.length - 1; i++) {\n            const key = fields[i];\n            if (!(key in object)) {\n              const nextKey = fields[i + 1];\n              if (!isNaN(nextKey)) {\n                object[key] = [];\n              } else {\n                object[key] = (0, _create.default)(null);\n              }\n            } else {\n              if ((0, _isArray.default)(object[key])) {\n                object[key] = [...object[key]];\n              } else {\n                object[key] = {\n                  ...object[key]\n                };\n              }\n            }\n            object = object[key];\n          }\n          object[last] = pendingOps[i][attr].applyTo(object[last]);\n        } else {\n          data[attr] = pendingOps[i][attr].applyTo(data[attr]);\n        }\n      }\n    }\n  }\n  return data;\n}\n\n/**\n * Allows setting properties/variables deep in an object.\n * Converts a.b into { a: { b: value } } for dot notation on Objects\n * Converts a.0.b into { a: [{ b: value }] } for dot notation on Arrays\n *\n * @param obj The object to assign the value to\n * @param key The key to assign. If it's in a deeper path, then use dot notation (`prop1.prop2.prop3`)\n * Note that intermediate object(s) in the nested path are automatically created if they don't exist.\n * @param value The value to assign. If it's an `undefined` then the key is deleted.\n */\nfunction nestedSet(obj, key, value) {\n  const paths = key.split('.');\n  for (let i = 0; i < paths.length - 1; i++) {\n    const path = paths[i];\n    if (!(path in obj)) {\n      const nextPath = paths[i + 1];\n      if (!isNaN(nextPath)) {\n        obj[path] = [];\n      } else {\n        obj[path] = (0, _create.default)(null);\n      }\n    }\n    obj = obj[path];\n  }\n  if (typeof value === 'undefined') {\n    delete obj[paths[paths.length - 1]];\n  } else {\n    obj[paths[paths.length - 1]] = value;\n  }\n}\nfunction commitServerChanges(serverData, objectCache, changes) {\n  const ParseObject = _CoreManager.default.getParseObject();\n  for (const attr in changes) {\n    // Skip properties from prototype chain\n    if (!Object.prototype.hasOwnProperty.call(changes, attr)) {\n      continue;\n    }\n    // Skip dangerous keys that could pollute prototypes\n    if ((0, _isDangerousKey.isDangerousKey)(attr)) {\n      continue;\n    }\n    const val = changes[attr];\n    nestedSet(serverData, attr, val);\n    if (val && typeof val === 'object' && !(val instanceof ParseObject) && !(val instanceof _ParseFile.default) && !(val instanceof _ParseRelation.default)) {\n      const json = (0, _encode.default)(val, false, true);\n      objectCache[attr] = (0, _stringify.default)(json);\n    }\n  }\n}","map":{"version":3,"names":["_Object$defineProperty","require","_interopRequireDefault","exports","value","commitServerChanges","defaultState","estimateAttribute","estimateAttributes","mergeFirstPendingState","popPendingState","pushPendingState","setPendingOp","setServerData","_create","_includes","_isArray","_stringify","_encode","_CoreManager","_ParseFile","_ParseRelation","_TaskQueue","_ParseOp","_isDangerousKey","serverData","default","pendingOps","objectCache","tasks","existed","attributes","attr","Object","prototype","hasOwnProperty","call","isDangerousKey","op","last","length","push","first","shift","next","merged","mergeWith","object","undefined","i","RelationOp","id","applyTo","data","fields","split","key","nextKey","isNaN","nestedSet","obj","paths","path","nextPath","changes","ParseObject","getParseObject","val","json"],"sources":["/home/snx/Desktop/CS_School/node_modules/parse/lib/browser/ObjectStateMutations.js"],"sourcesContent":["\"use strict\";\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.commitServerChanges = commitServerChanges;\nexports.defaultState = defaultState;\nexports.estimateAttribute = estimateAttribute;\nexports.estimateAttributes = estimateAttributes;\nexports.mergeFirstPendingState = mergeFirstPendingState;\nexports.popPendingState = popPendingState;\nexports.pushPendingState = pushPendingState;\nexports.setPendingOp = setPendingOp;\nexports.setServerData = setServerData;\nvar _create = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/create\"));\nvar _includes = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/includes\"));\nvar _isArray = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\"));\nvar _stringify = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/json/stringify\"));\nvar _encode = _interopRequireDefault(require(\"./encode\"));\nvar _CoreManager = _interopRequireDefault(require(\"./CoreManager\"));\nvar _ParseFile = _interopRequireDefault(require(\"./ParseFile\"));\nvar _ParseRelation = _interopRequireDefault(require(\"./ParseRelation\"));\nvar _TaskQueue = _interopRequireDefault(require(\"./TaskQueue\"));\nvar _ParseOp = require(\"./ParseOp\");\nvar _isDangerousKey = require(\"./isDangerousKey\");\nfunction defaultState() {\n  return {\n    serverData: (0, _create.default)(null),\n    pendingOps: [(0, _create.default)(null)],\n    objectCache: (0, _create.default)(null),\n    tasks: new _TaskQueue.default(),\n    existed: false\n  };\n}\nfunction setServerData(serverData, attributes) {\n  for (const attr in attributes) {\n    // Skip properties from prototype chain\n    if (!Object.prototype.hasOwnProperty.call(attributes, attr)) {\n      continue;\n    }\n    // Skip dangerous keys that could pollute prototypes\n    if ((0, _isDangerousKey.isDangerousKey)(attr)) {\n      continue;\n    }\n    if (typeof attributes[attr] !== \"undefined\") {\n      serverData[attr] = attributes[attr];\n    } else {\n      delete serverData[attr];\n    }\n  }\n}\nfunction setPendingOp(pendingOps, attr, op) {\n  // Skip dangerous keys that could pollute prototypes\n  if ((0, _isDangerousKey.isDangerousKey)(attr)) {\n    return;\n  }\n  const last = pendingOps.length - 1;\n  if (op) {\n    pendingOps[last][attr] = op;\n  } else {\n    delete pendingOps[last][attr];\n  }\n}\nfunction pushPendingState(pendingOps) {\n  pendingOps.push((0, _create.default)(null));\n}\nfunction popPendingState(pendingOps) {\n  const first = pendingOps.shift();\n  if (!pendingOps.length) {\n    pendingOps[0] = (0, _create.default)(null);\n  }\n  return first;\n}\nfunction mergeFirstPendingState(pendingOps) {\n  const first = popPendingState(pendingOps);\n  const next = pendingOps[0];\n  for (const attr in first) {\n    // Skip properties from prototype chain\n    if (!Object.prototype.hasOwnProperty.call(first, attr)) {\n      continue;\n    }\n    // Skip dangerous keys that could pollute prototypes\n    if ((0, _isDangerousKey.isDangerousKey)(attr)) {\n      continue;\n    }\n    if (next[attr] && first[attr]) {\n      const merged = next[attr].mergeWith(first[attr]);\n      if (merged) {\n        next[attr] = merged;\n      }\n    } else {\n      next[attr] = first[attr];\n    }\n  }\n}\nfunction estimateAttribute(serverData, pendingOps, object, attr) {\n  // Skip dangerous keys that could pollute prototypes\n  if ((0, _isDangerousKey.isDangerousKey)(attr)) {\n    return undefined;\n  }\n  let value = serverData[attr];\n  for (let i = 0; i < pendingOps.length; i++) {\n    if (pendingOps[i][attr]) {\n      if (pendingOps[i][attr] instanceof _ParseOp.RelationOp) {\n        if (object.id) {\n          value = pendingOps[i][attr].applyTo(value, object, attr);\n        }\n      } else {\n        value = pendingOps[i][attr].applyTo(value);\n      }\n    }\n  }\n  return value;\n}\nfunction estimateAttributes(serverData, pendingOps, object) {\n  const data = (0, _create.default)(null);\n  for (var attr in serverData) {\n    data[attr] = serverData[attr];\n  }\n  for (let i = 0; i < pendingOps.length; i++) {\n    for (attr in pendingOps[i]) {\n      // Skip properties from prototype chain\n      if (!Object.prototype.hasOwnProperty.call(pendingOps[i], attr)) {\n        continue;\n      }\n      // Skip dangerous keys that could pollute prototypes\n      if ((0, _isDangerousKey.isDangerousKey)(attr)) {\n        continue;\n      }\n      if (pendingOps[i][attr] instanceof _ParseOp.RelationOp) {\n        if (object.id) {\n          data[attr] = pendingOps[i][attr].applyTo(data[attr], object, attr);\n        }\n      } else {\n        if ((0, _includes.default)(attr).call(attr, '.')) {\n          // similar to nestedSet function\n          const fields = attr.split('.');\n          const last = fields[fields.length - 1];\n          let object = data;\n          for (let i = 0; i < fields.length - 1; i++) {\n            const key = fields[i];\n            if (!(key in object)) {\n              const nextKey = fields[i + 1];\n              if (!isNaN(nextKey)) {\n                object[key] = [];\n              } else {\n                object[key] = (0, _create.default)(null);\n              }\n            } else {\n              if ((0, _isArray.default)(object[key])) {\n                object[key] = [...object[key]];\n              } else {\n                object[key] = {\n                  ...object[key]\n                };\n              }\n            }\n            object = object[key];\n          }\n          object[last] = pendingOps[i][attr].applyTo(object[last]);\n        } else {\n          data[attr] = pendingOps[i][attr].applyTo(data[attr]);\n        }\n      }\n    }\n  }\n  return data;\n}\n\n/**\n * Allows setting properties/variables deep in an object.\n * Converts a.b into { a: { b: value } } for dot notation on Objects\n * Converts a.0.b into { a: [{ b: value }] } for dot notation on Arrays\n *\n * @param obj The object to assign the value to\n * @param key The key to assign. If it's in a deeper path, then use dot notation (`prop1.prop2.prop3`)\n * Note that intermediate object(s) in the nested path are automatically created if they don't exist.\n * @param value The value to assign. If it's an `undefined` then the key is deleted.\n */\nfunction nestedSet(obj, key, value) {\n  const paths = key.split('.');\n  for (let i = 0; i < paths.length - 1; i++) {\n    const path = paths[i];\n    if (!(path in obj)) {\n      const nextPath = paths[i + 1];\n      if (!isNaN(nextPath)) {\n        obj[path] = [];\n      } else {\n        obj[path] = (0, _create.default)(null);\n      }\n    }\n    obj = obj[path];\n  }\n  if (typeof value === 'undefined') {\n    delete obj[paths[paths.length - 1]];\n  } else {\n    obj[paths[paths.length - 1]] = value;\n  }\n}\nfunction commitServerChanges(serverData, objectCache, changes) {\n  const ParseObject = _CoreManager.default.getParseObject();\n  for (const attr in changes) {\n    // Skip properties from prototype chain\n    if (!Object.prototype.hasOwnProperty.call(changes, attr)) {\n      continue;\n    }\n    // Skip dangerous keys that could pollute prototypes\n    if ((0, _isDangerousKey.isDangerousKey)(attr)) {\n      continue;\n    }\n    const val = changes[attr];\n    nestedSet(serverData, attr, val);\n    if (val && typeof val === 'object' && !(val instanceof ParseObject) && !(val instanceof _ParseFile.default) && !(val instanceof _ParseRelation.default)) {\n      const json = (0, _encode.default)(val, false, true);\n      objectCache[attr] = (0, _stringify.default)(json);\n    }\n  }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}