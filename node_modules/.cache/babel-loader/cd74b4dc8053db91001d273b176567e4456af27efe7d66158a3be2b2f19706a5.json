{"ast":null,"code":"\"use strict\";\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getJobStatus = getJobStatus;\nexports.getJobsData = getJobsData;\nexports.run = run;\nexports.startJob = startJob;\nvar _keys = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/keys\"));\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/promise\"));\nvar _CoreManager = _interopRequireDefault(require(\"./CoreManager\"));\nvar _decode = _interopRequireDefault(require(\"./decode\"));\nvar _encode = _interopRequireDefault(require(\"./encode\"));\nvar _ParseError = _interopRequireDefault(require(\"./ParseError\"));\nvar _ParseQuery = _interopRequireDefault(require(\"./ParseQuery\"));\nvar _ParseObject = _interopRequireDefault(require(\"./ParseObject\"));\n/**\n * Contains functions for calling and declaring\n * <a href=\"/docs/cloud_code_guide#functions\">cloud functions</a>.\n * <p><strong><em>\n *   Some functions are only available from Cloud Code.\n * </em></strong></p>\n *\n * @class Parse.Cloud\n * @static\n * @hideconstructor\n */\n\n/**\n * Makes a call to a cloud function.\n *\n * @function run\n * @name Parse.Cloud.run\n * @param {string} name The function name.\n * @param {object} data The parameters to send to the cloud function.\n * @param {object} options\n * Valid options are:<ul>\n *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n *     be used for this request.\n *   <li>sessionToken: A valid session token, used for making a request on\n *        behalf of a specific user.\n *   <li>installationId: the installationId which made the request\n *   <li>context: A dictionary that is accessible in Cloud Code triggers.\n * </ul>\n * @returns {Promise} A promise that will be resolved with the result\n * of the function.\n */\n\nfunction run(name, data, options) {\n  if (typeof name !== 'string' || name.length === 0) {\n    throw new TypeError('Cloud function name must be a string.');\n  }\n  const requestOptions = _ParseObject.default._getRequestOptions(options);\n  return _CoreManager.default.getCloudController().run(name, data, requestOptions);\n}\n\n/**\n * Gets data for the current set of cloud jobs.\n *\n * @function getJobsData\n * @name Parse.Cloud.getJobsData\n * @returns {Promise} A promise that will be resolved with the result\n * of the function.\n */\nfunction getJobsData() {\n  return _CoreManager.default.getCloudController().getJobsData({\n    useMasterKey: true\n  });\n}\n\n/**\n * Starts a given cloud job, which will process asynchronously.\n *\n * @function startJob\n * @name Parse.Cloud.startJob\n * @param {string} name The function name.\n * @param {object} data The parameters to send to the cloud function.\n * @returns {Promise} A promise that will be resolved with the jobStatusId\n * of the job.\n */\nfunction startJob(name, data) {\n  if (typeof name !== 'string' || name.length === 0) {\n    throw new TypeError('Cloud job name must be a string.');\n  }\n  return _CoreManager.default.getCloudController().startJob(name, data, {\n    useMasterKey: true\n  });\n}\n\n/**\n * Gets job status by Id\n *\n * @function getJobStatus\n * @name Parse.Cloud.getJobStatus\n * @param {string} jobStatusId The Id of Job Status.\n * @returns {Parse.Object} Status of Job.\n */\nfunction getJobStatus(jobStatusId) {\n  const query = new _ParseQuery.default('_JobStatus');\n  return query.get(jobStatusId, {\n    useMasterKey: true\n  });\n}\nconst DefaultController = {\n  run(name, data, options) {\n    const RESTController = _CoreManager.default.getRESTController();\n    const payload = (0, _encode.default)(data, true);\n    const request = RESTController.request('POST', 'functions/' + name, payload, options);\n    return request.then(res => {\n      if (typeof res === 'object' && (0, _keys.default)(res).length > 0 && !Object.hasOwn(res, 'result')) {\n        throw new _ParseError.default(_ParseError.default.INVALID_JSON, 'The server returned an invalid response.');\n      }\n      const decoded = (0, _decode.default)(res);\n      if (decoded && Object.hasOwn(decoded, 'result')) {\n        return _promise.default.resolve(decoded.result);\n      }\n      return _promise.default.resolve(undefined);\n    });\n  },\n  getJobsData(options) {\n    const RESTController = _CoreManager.default.getRESTController();\n    return RESTController.request('GET', 'cloud_code/jobs/data', null, options);\n  },\n  async startJob(name, data, options) {\n    const RESTController = _CoreManager.default.getRESTController();\n    const payload = (0, _encode.default)(data, true);\n    options.returnStatus = true;\n    const response = await RESTController.request('POST', 'jobs/' + name, payload, options);\n    return response._headers?.['X-Parse-Job-Status-Id'];\n  }\n};\n_CoreManager.default.setCloudController(DefaultController);","map":{"version":3,"names":["_Object$defineProperty","require","_interopRequireDefault","exports","value","getJobStatus","getJobsData","run","startJob","_keys","_promise","_CoreManager","_decode","_encode","_ParseError","_ParseQuery","_ParseObject","name","data","options","length","TypeError","requestOptions","default","_getRequestOptions","getCloudController","useMasterKey","jobStatusId","query","get","DefaultController","RESTController","getRESTController","payload","request","then","res","Object","hasOwn","INVALID_JSON","decoded","resolve","result","undefined","returnStatus","response","_headers","setCloudController"],"sources":["/home/snx/Desktop/CS_School/node_modules/parse/lib/browser/Cloud.js"],"sourcesContent":["\"use strict\";\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getJobStatus = getJobStatus;\nexports.getJobsData = getJobsData;\nexports.run = run;\nexports.startJob = startJob;\nvar _keys = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/keys\"));\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/promise\"));\nvar _CoreManager = _interopRequireDefault(require(\"./CoreManager\"));\nvar _decode = _interopRequireDefault(require(\"./decode\"));\nvar _encode = _interopRequireDefault(require(\"./encode\"));\nvar _ParseError = _interopRequireDefault(require(\"./ParseError\"));\nvar _ParseQuery = _interopRequireDefault(require(\"./ParseQuery\"));\nvar _ParseObject = _interopRequireDefault(require(\"./ParseObject\"));\n/**\n * Contains functions for calling and declaring\n * <a href=\"/docs/cloud_code_guide#functions\">cloud functions</a>.\n * <p><strong><em>\n *   Some functions are only available from Cloud Code.\n * </em></strong></p>\n *\n * @class Parse.Cloud\n * @static\n * @hideconstructor\n */\n\n/**\n * Makes a call to a cloud function.\n *\n * @function run\n * @name Parse.Cloud.run\n * @param {string} name The function name.\n * @param {object} data The parameters to send to the cloud function.\n * @param {object} options\n * Valid options are:<ul>\n *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n *     be used for this request.\n *   <li>sessionToken: A valid session token, used for making a request on\n *        behalf of a specific user.\n *   <li>installationId: the installationId which made the request\n *   <li>context: A dictionary that is accessible in Cloud Code triggers.\n * </ul>\n * @returns {Promise} A promise that will be resolved with the result\n * of the function.\n */\n\nfunction run(name, data, options) {\n  if (typeof name !== 'string' || name.length === 0) {\n    throw new TypeError('Cloud function name must be a string.');\n  }\n  const requestOptions = _ParseObject.default._getRequestOptions(options);\n  return _CoreManager.default.getCloudController().run(name, data, requestOptions);\n}\n\n/**\n * Gets data for the current set of cloud jobs.\n *\n * @function getJobsData\n * @name Parse.Cloud.getJobsData\n * @returns {Promise} A promise that will be resolved with the result\n * of the function.\n */\nfunction getJobsData() {\n  return _CoreManager.default.getCloudController().getJobsData({\n    useMasterKey: true\n  });\n}\n\n/**\n * Starts a given cloud job, which will process asynchronously.\n *\n * @function startJob\n * @name Parse.Cloud.startJob\n * @param {string} name The function name.\n * @param {object} data The parameters to send to the cloud function.\n * @returns {Promise} A promise that will be resolved with the jobStatusId\n * of the job.\n */\nfunction startJob(name, data) {\n  if (typeof name !== 'string' || name.length === 0) {\n    throw new TypeError('Cloud job name must be a string.');\n  }\n  return _CoreManager.default.getCloudController().startJob(name, data, {\n    useMasterKey: true\n  });\n}\n\n/**\n * Gets job status by Id\n *\n * @function getJobStatus\n * @name Parse.Cloud.getJobStatus\n * @param {string} jobStatusId The Id of Job Status.\n * @returns {Parse.Object} Status of Job.\n */\nfunction getJobStatus(jobStatusId) {\n  const query = new _ParseQuery.default('_JobStatus');\n  return query.get(jobStatusId, {\n    useMasterKey: true\n  });\n}\nconst DefaultController = {\n  run(name, data, options) {\n    const RESTController = _CoreManager.default.getRESTController();\n    const payload = (0, _encode.default)(data, true);\n    const request = RESTController.request('POST', 'functions/' + name, payload, options);\n    return request.then(res => {\n      if (typeof res === 'object' && (0, _keys.default)(res).length > 0 && !Object.hasOwn(res, 'result')) {\n        throw new _ParseError.default(_ParseError.default.INVALID_JSON, 'The server returned an invalid response.');\n      }\n      const decoded = (0, _decode.default)(res);\n      if (decoded && Object.hasOwn(decoded, 'result')) {\n        return _promise.default.resolve(decoded.result);\n      }\n      return _promise.default.resolve(undefined);\n    });\n  },\n  getJobsData(options) {\n    const RESTController = _CoreManager.default.getRESTController();\n    return RESTController.request('GET', 'cloud_code/jobs/data', null, options);\n  },\n  async startJob(name, data, options) {\n    const RESTController = _CoreManager.default.getRESTController();\n    const payload = (0, _encode.default)(data, true);\n    options.returnStatus = true;\n    const response = await RESTController.request('POST', 'jobs/' + name, payload, options);\n    return response._headers?.['X-Parse-Job-Status-Id'];\n  }\n};\n_CoreManager.default.setCloudController(DefaultController);"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,sBAAsB,GAAGC,OAAO,CAAC,8DAA8D,CAAC;AACpG,IAAIC,sBAAsB,GAAGD,OAAO,CAAC,sDAAsD,CAAC;AAC5FD,sBAAsB,CAACG,OAAO,EAAE,YAAY,EAAE;EAC5CC,KAAK,EAAE;AACT,CAAC,CAAC;AACFD,OAAO,CAACE,YAAY,GAAGA,YAAY;AACnCF,OAAO,CAACG,WAAW,GAAGA,WAAW;AACjCH,OAAO,CAACI,GAAG,GAAGA,GAAG;AACjBJ,OAAO,CAACK,QAAQ,GAAGA,QAAQ;AAC3B,IAAIC,KAAK,GAAGP,sBAAsB,CAACD,OAAO,CAAC,mDAAmD,CAAC,CAAC;AAChG,IAAIS,QAAQ,GAAGR,sBAAsB,CAACD,OAAO,CAAC,+CAA+C,CAAC,CAAC;AAC/F,IAAIU,YAAY,GAAGT,sBAAsB,CAACD,OAAO,CAAC,eAAe,CAAC,CAAC;AACnE,IAAIW,OAAO,GAAGV,sBAAsB,CAACD,OAAO,CAAC,UAAU,CAAC,CAAC;AACzD,IAAIY,OAAO,GAAGX,sBAAsB,CAACD,OAAO,CAAC,UAAU,CAAC,CAAC;AACzD,IAAIa,WAAW,GAAGZ,sBAAsB,CAACD,OAAO,CAAC,cAAc,CAAC,CAAC;AACjE,IAAIc,WAAW,GAAGb,sBAAsB,CAACD,OAAO,CAAC,cAAc,CAAC,CAAC;AACjE,IAAIe,YAAY,GAAGd,sBAAsB,CAACD,OAAO,CAAC,eAAe,CAAC,CAAC;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASM,GAAGA,CAACU,IAAI,EAAEC,IAAI,EAAEC,OAAO,EAAE;EAChC,IAAI,OAAOF,IAAI,KAAK,QAAQ,IAAIA,IAAI,CAACG,MAAM,KAAK,CAAC,EAAE;IACjD,MAAM,IAAIC,SAAS,CAAC,uCAAuC,CAAC;EAC9D;EACA,MAAMC,cAAc,GAAGN,YAAY,CAACO,OAAO,CAACC,kBAAkB,CAACL,OAAO,CAAC;EACvE,OAAOR,YAAY,CAACY,OAAO,CAACE,kBAAkB,CAAC,CAAC,CAAClB,GAAG,CAACU,IAAI,EAAEC,IAAI,EAAEI,cAAc,CAAC;AAClF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAShB,WAAWA,CAAA,EAAG;EACrB,OAAOK,YAAY,CAACY,OAAO,CAACE,kBAAkB,CAAC,CAAC,CAACnB,WAAW,CAAC;IAC3DoB,YAAY,EAAE;EAChB,CAAC,CAAC;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASlB,QAAQA,CAACS,IAAI,EAAEC,IAAI,EAAE;EAC5B,IAAI,OAAOD,IAAI,KAAK,QAAQ,IAAIA,IAAI,CAACG,MAAM,KAAK,CAAC,EAAE;IACjD,MAAM,IAAIC,SAAS,CAAC,kCAAkC,CAAC;EACzD;EACA,OAAOV,YAAY,CAACY,OAAO,CAACE,kBAAkB,CAAC,CAAC,CAACjB,QAAQ,CAACS,IAAI,EAAEC,IAAI,EAAE;IACpEQ,YAAY,EAAE;EAChB,CAAC,CAAC;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASrB,YAAYA,CAACsB,WAAW,EAAE;EACjC,MAAMC,KAAK,GAAG,IAAIb,WAAW,CAACQ,OAAO,CAAC,YAAY,CAAC;EACnD,OAAOK,KAAK,CAACC,GAAG,CAACF,WAAW,EAAE;IAC5BD,YAAY,EAAE;EAChB,CAAC,CAAC;AACJ;AACA,MAAMI,iBAAiB,GAAG;EACxBvB,GAAGA,CAACU,IAAI,EAAEC,IAAI,EAAEC,OAAO,EAAE;IACvB,MAAMY,cAAc,GAAGpB,YAAY,CAACY,OAAO,CAACS,iBAAiB,CAAC,CAAC;IAC/D,MAAMC,OAAO,GAAG,CAAC,CAAC,EAAEpB,OAAO,CAACU,OAAO,EAAEL,IAAI,EAAE,IAAI,CAAC;IAChD,MAAMgB,OAAO,GAAGH,cAAc,CAACG,OAAO,CAAC,MAAM,EAAE,YAAY,GAAGjB,IAAI,EAAEgB,OAAO,EAAEd,OAAO,CAAC;IACrF,OAAOe,OAAO,CAACC,IAAI,CAACC,GAAG,IAAI;MACzB,IAAI,OAAOA,GAAG,KAAK,QAAQ,IAAI,CAAC,CAAC,EAAE3B,KAAK,CAACc,OAAO,EAAEa,GAAG,CAAC,CAAChB,MAAM,GAAG,CAAC,IAAI,CAACiB,MAAM,CAACC,MAAM,CAACF,GAAG,EAAE,QAAQ,CAAC,EAAE;QAClG,MAAM,IAAItB,WAAW,CAACS,OAAO,CAACT,WAAW,CAACS,OAAO,CAACgB,YAAY,EAAE,0CAA0C,CAAC;MAC7G;MACA,MAAMC,OAAO,GAAG,CAAC,CAAC,EAAE5B,OAAO,CAACW,OAAO,EAAEa,GAAG,CAAC;MACzC,IAAII,OAAO,IAAIH,MAAM,CAACC,MAAM,CAACE,OAAO,EAAE,QAAQ,CAAC,EAAE;QAC/C,OAAO9B,QAAQ,CAACa,OAAO,CAACkB,OAAO,CAACD,OAAO,CAACE,MAAM,CAAC;MACjD;MACA,OAAOhC,QAAQ,CAACa,OAAO,CAACkB,OAAO,CAACE,SAAS,CAAC;IAC5C,CAAC,CAAC;EACJ,CAAC;EACDrC,WAAWA,CAACa,OAAO,EAAE;IACnB,MAAMY,cAAc,GAAGpB,YAAY,CAACY,OAAO,CAACS,iBAAiB,CAAC,CAAC;IAC/D,OAAOD,cAAc,CAACG,OAAO,CAAC,KAAK,EAAE,sBAAsB,EAAE,IAAI,EAAEf,OAAO,CAAC;EAC7E,CAAC;EACD,MAAMX,QAAQA,CAACS,IAAI,EAAEC,IAAI,EAAEC,OAAO,EAAE;IAClC,MAAMY,cAAc,GAAGpB,YAAY,CAACY,OAAO,CAACS,iBAAiB,CAAC,CAAC;IAC/D,MAAMC,OAAO,GAAG,CAAC,CAAC,EAAEpB,OAAO,CAACU,OAAO,EAAEL,IAAI,EAAE,IAAI,CAAC;IAChDC,OAAO,CAACyB,YAAY,GAAG,IAAI;IAC3B,MAAMC,QAAQ,GAAG,MAAMd,cAAc,CAACG,OAAO,CAAC,MAAM,EAAE,OAAO,GAAGjB,IAAI,EAAEgB,OAAO,EAAEd,OAAO,CAAC;IACvF,OAAO0B,QAAQ,CAACC,QAAQ,GAAG,uBAAuB,CAAC;EACrD;AACF,CAAC;AACDnC,YAAY,CAACY,OAAO,CAACwB,kBAAkB,CAACjB,iBAAiB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}