{"ast":null,"code":"\"use strict\";\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.polyfillFetch = polyfillFetch;\nvar _reduce = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/reduce\"));\nvar _keys = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/keys\"));\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/promise\"));\n/* istanbul ignore file */\n\n// @ts-ignore\nfunction parseResponse(res) {\n  var _context;\n  let headers = res.header || {};\n  headers = (0, _reduce.default)(_context = (0, _keys.default)(headers)).call(_context, (map, key) => {\n    map[key.toLowerCase()] = headers[key];\n    return map;\n  }, {});\n  return {\n    status: res.statusCode,\n    json: () => {\n      if (typeof res.data === 'object') {\n        return _promise.default.resolve(res.data);\n      }\n      let json = {};\n      try {\n        json = JSON.parse(res.data);\n      } catch (err) {\n        console.error(err);\n      }\n      return _promise.default.resolve(json);\n    },\n    headers: {\n      keys: () => (0, _keys.default)(headers),\n      get: n => headers[n.toLowerCase()],\n      has: n => n.toLowerCase() in headers,\n      entries: () => {\n        const all = [];\n        for (const key in headers) {\n          if (headers[key]) {\n            all.push([key, headers[key]]);\n          }\n        }\n        return all;\n      }\n    }\n  };\n}\nfunction polyfillFetch() {\n  const typedGlobal = global;\n  if (typeof typedGlobal.fetch !== 'function') {\n    typedGlobal.fetch = (url, options) => {\n      const dataType = url.match(/\\.(txt|json|html|txt|csv)/) ? 'text' : 'arraybuffer';\n      return new _promise.default((resolve, reject) => {\n        // @ts-ignore\n        wx.request({\n          url,\n          method: options.method || 'GET',\n          data: options.body,\n          header: options.headers,\n          dataType,\n          responseType: dataType,\n          success: response => resolve(parseResponse(response)),\n          fail: error => reject(error)\n        });\n      });\n    };\n  }\n}","map":{"version":3,"names":["_Object$defineProperty","require","_interopRequireDefault","exports","value","polyfillFetch","_reduce","_keys","_promise","parseResponse","res","_context","headers","header","default","call","map","key","toLowerCase","status","statusCode","json","data","resolve","JSON","parse","err","console","error","keys","get","n","has","entries","all","push","typedGlobal","global","fetch","url","options","dataType","match","reject","wx","request","method","body","responseType","success","response","fail"],"sources":["/home/snx/Desktop/CS_School/node_modules/parse/lib/browser/Xhr.weapp.js"],"sourcesContent":["\"use strict\";\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.polyfillFetch = polyfillFetch;\nvar _reduce = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/reduce\"));\nvar _keys = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/keys\"));\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/promise\"));\n/* istanbul ignore file */\n\n// @ts-ignore\nfunction parseResponse(res) {\n  var _context;\n  let headers = res.header || {};\n  headers = (0, _reduce.default)(_context = (0, _keys.default)(headers)).call(_context, (map, key) => {\n    map[key.toLowerCase()] = headers[key];\n    return map;\n  }, {});\n  return {\n    status: res.statusCode,\n    json: () => {\n      if (typeof res.data === 'object') {\n        return _promise.default.resolve(res.data);\n      }\n      let json = {};\n      try {\n        json = JSON.parse(res.data);\n      } catch (err) {\n        console.error(err);\n      }\n      return _promise.default.resolve(json);\n    },\n    headers: {\n      keys: () => (0, _keys.default)(headers),\n      get: n => headers[n.toLowerCase()],\n      has: n => n.toLowerCase() in headers,\n      entries: () => {\n        const all = [];\n        for (const key in headers) {\n          if (headers[key]) {\n            all.push([key, headers[key]]);\n          }\n        }\n        return all;\n      }\n    }\n  };\n}\nfunction polyfillFetch() {\n  const typedGlobal = global;\n  if (typeof typedGlobal.fetch !== 'function') {\n    typedGlobal.fetch = (url, options) => {\n      const dataType = url.match(/\\.(txt|json|html|txt|csv)/) ? 'text' : 'arraybuffer';\n      return new _promise.default((resolve, reject) => {\n        // @ts-ignore\n        wx.request({\n          url,\n          method: options.method || 'GET',\n          data: options.body,\n          header: options.headers,\n          dataType,\n          responseType: dataType,\n          success: response => resolve(parseResponse(response)),\n          fail: error => reject(error)\n        });\n      });\n    };\n  }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}