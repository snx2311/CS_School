{"ast":null,"code":"\"use strict\";\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = create;\nexports.createFunction = createFunction;\nexports.createTrigger = createTrigger;\nexports.getFunction = getFunction;\nexports.getFunctions = getFunctions;\nexports.getTrigger = getTrigger;\nexports.getTriggers = getTriggers;\nexports.remove = remove;\nexports.removeFunction = removeFunction;\nexports.removeTrigger = removeTrigger;\nexports.update = update;\nexports.updateFunction = updateFunction;\nexports.updateTrigger = updateTrigger;\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/promise\"));\nvar _CoreManager = _interopRequireDefault(require(\"./CoreManager\"));\nvar _decode = _interopRequireDefault(require(\"./decode\"));\nvar _ParseError = _interopRequireDefault(require(\"./ParseError\"));\nfunction getFunctions() {\n  return _CoreManager.default.getHooksController().get('functions');\n}\nfunction getTriggers() {\n  return _CoreManager.default.getHooksController().get('triggers');\n}\nfunction getFunction(name) {\n  return _CoreManager.default.getHooksController().get('functions', name);\n}\nfunction getTrigger(className, triggerName) {\n  return _CoreManager.default.getHooksController().get('triggers', className, triggerName);\n}\nfunction createFunction(functionName, url) {\n  return create({\n    functionName: functionName,\n    url: url\n  });\n}\nfunction createTrigger(className, triggerName, url) {\n  return create({\n    className: className,\n    triggerName: triggerName,\n    url: url\n  });\n}\nfunction create(hook) {\n  return _CoreManager.default.getHooksController().create(hook);\n}\nfunction updateFunction(functionName, url) {\n  return update({\n    functionName: functionName,\n    url: url\n  });\n}\nfunction updateTrigger(className, triggerName, url) {\n  return update({\n    className: className,\n    triggerName: triggerName,\n    url: url\n  });\n}\nfunction update(hook) {\n  return _CoreManager.default.getHooksController().update(hook);\n}\nfunction removeFunction(functionName) {\n  return remove({\n    functionName: functionName\n  });\n}\nfunction removeTrigger(className, triggerName) {\n  return remove({\n    className: className,\n    triggerName: triggerName\n  });\n}\nfunction remove(hook) {\n  return _CoreManager.default.getHooksController().remove(hook);\n}\nconst DefaultController = {\n  get(type, functionName, triggerName) {\n    let url = 'hooks/' + type;\n    if (functionName) {\n      url += '/' + functionName;\n      if (triggerName) {\n        url += '/' + triggerName;\n      }\n    }\n    return this.sendRequest('GET', url);\n  },\n  create(hook) {\n    let url;\n    if (hook.functionName && hook.url) {\n      url = 'hooks/functions';\n    } else if (hook.className && hook.triggerName && hook.url) {\n      url = 'hooks/triggers';\n    } else {\n      return _promise.default.reject({\n        error: 'invalid hook declaration',\n        code: 143\n      });\n    }\n    return this.sendRequest('POST', url, hook);\n  },\n  remove(hook) {\n    let url;\n    if (hook.functionName) {\n      url = 'hooks/functions/' + hook.functionName;\n      delete hook.functionName;\n    } else if (hook.className && hook.triggerName) {\n      url = 'hooks/triggers/' + hook.className + '/' + hook.triggerName;\n      delete hook.className;\n      delete hook.triggerName;\n    } else {\n      return _promise.default.reject({\n        error: 'invalid hook declaration',\n        code: 143\n      });\n    }\n    return this.sendRequest('PUT', url, {\n      __op: 'Delete'\n    });\n  },\n  update(hook) {\n    let url;\n    if (hook.functionName && hook.url) {\n      url = 'hooks/functions/' + hook.functionName;\n      delete hook.functionName;\n    } else if (hook.className && hook.triggerName && hook.url) {\n      url = 'hooks/triggers/' + hook.className + '/' + hook.triggerName;\n      delete hook.className;\n      delete hook.triggerName;\n    } else {\n      return _promise.default.reject({\n        error: 'invalid hook declaration',\n        code: 143\n      });\n    }\n    return this.sendRequest('PUT', url, hook);\n  },\n  sendRequest(method, url, body) {\n    return _CoreManager.default.getRESTController().request(method, url, body, {\n      useMasterKey: true\n    }).then(res => {\n      const decoded = (0, _decode.default)(res);\n      if (decoded) {\n        return _promise.default.resolve(decoded);\n      }\n      return _promise.default.reject(new _ParseError.default(_ParseError.default.INVALID_JSON, 'The server returned an invalid response.'));\n    });\n  }\n};\n_CoreManager.default.setHooksController(DefaultController);","map":{"version":3,"names":["_Object$defineProperty","require","_interopRequireDefault","exports","value","create","createFunction","createTrigger","getFunction","getFunctions","getTrigger","getTriggers","remove","removeFunction","removeTrigger","update","updateFunction","updateTrigger","_promise","_CoreManager","_decode","_ParseError","default","getHooksController","get","name","className","triggerName","functionName","url","hook","DefaultController","type","sendRequest","reject","error","code","__op","method","body","getRESTController","request","useMasterKey","then","res","decoded","resolve","INVALID_JSON","setHooksController"],"sources":["/home/snx/Desktop/CS_School/node_modules/parse/lib/browser/ParseHooks.js"],"sourcesContent":["\"use strict\";\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = create;\nexports.createFunction = createFunction;\nexports.createTrigger = createTrigger;\nexports.getFunction = getFunction;\nexports.getFunctions = getFunctions;\nexports.getTrigger = getTrigger;\nexports.getTriggers = getTriggers;\nexports.remove = remove;\nexports.removeFunction = removeFunction;\nexports.removeTrigger = removeTrigger;\nexports.update = update;\nexports.updateFunction = updateFunction;\nexports.updateTrigger = updateTrigger;\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/promise\"));\nvar _CoreManager = _interopRequireDefault(require(\"./CoreManager\"));\nvar _decode = _interopRequireDefault(require(\"./decode\"));\nvar _ParseError = _interopRequireDefault(require(\"./ParseError\"));\nfunction getFunctions() {\n  return _CoreManager.default.getHooksController().get('functions');\n}\nfunction getTriggers() {\n  return _CoreManager.default.getHooksController().get('triggers');\n}\nfunction getFunction(name) {\n  return _CoreManager.default.getHooksController().get('functions', name);\n}\nfunction getTrigger(className, triggerName) {\n  return _CoreManager.default.getHooksController().get('triggers', className, triggerName);\n}\nfunction createFunction(functionName, url) {\n  return create({\n    functionName: functionName,\n    url: url\n  });\n}\nfunction createTrigger(className, triggerName, url) {\n  return create({\n    className: className,\n    triggerName: triggerName,\n    url: url\n  });\n}\nfunction create(hook) {\n  return _CoreManager.default.getHooksController().create(hook);\n}\nfunction updateFunction(functionName, url) {\n  return update({\n    functionName: functionName,\n    url: url\n  });\n}\nfunction updateTrigger(className, triggerName, url) {\n  return update({\n    className: className,\n    triggerName: triggerName,\n    url: url\n  });\n}\nfunction update(hook) {\n  return _CoreManager.default.getHooksController().update(hook);\n}\nfunction removeFunction(functionName) {\n  return remove({\n    functionName: functionName\n  });\n}\nfunction removeTrigger(className, triggerName) {\n  return remove({\n    className: className,\n    triggerName: triggerName\n  });\n}\nfunction remove(hook) {\n  return _CoreManager.default.getHooksController().remove(hook);\n}\nconst DefaultController = {\n  get(type, functionName, triggerName) {\n    let url = 'hooks/' + type;\n    if (functionName) {\n      url += '/' + functionName;\n      if (triggerName) {\n        url += '/' + triggerName;\n      }\n    }\n    return this.sendRequest('GET', url);\n  },\n  create(hook) {\n    let url;\n    if (hook.functionName && hook.url) {\n      url = 'hooks/functions';\n    } else if (hook.className && hook.triggerName && hook.url) {\n      url = 'hooks/triggers';\n    } else {\n      return _promise.default.reject({\n        error: 'invalid hook declaration',\n        code: 143\n      });\n    }\n    return this.sendRequest('POST', url, hook);\n  },\n  remove(hook) {\n    let url;\n    if (hook.functionName) {\n      url = 'hooks/functions/' + hook.functionName;\n      delete hook.functionName;\n    } else if (hook.className && hook.triggerName) {\n      url = 'hooks/triggers/' + hook.className + '/' + hook.triggerName;\n      delete hook.className;\n      delete hook.triggerName;\n    } else {\n      return _promise.default.reject({\n        error: 'invalid hook declaration',\n        code: 143\n      });\n    }\n    return this.sendRequest('PUT', url, {\n      __op: 'Delete'\n    });\n  },\n  update(hook) {\n    let url;\n    if (hook.functionName && hook.url) {\n      url = 'hooks/functions/' + hook.functionName;\n      delete hook.functionName;\n    } else if (hook.className && hook.triggerName && hook.url) {\n      url = 'hooks/triggers/' + hook.className + '/' + hook.triggerName;\n      delete hook.className;\n      delete hook.triggerName;\n    } else {\n      return _promise.default.reject({\n        error: 'invalid hook declaration',\n        code: 143\n      });\n    }\n    return this.sendRequest('PUT', url, hook);\n  },\n  sendRequest(method, url, body) {\n    return _CoreManager.default.getRESTController().request(method, url, body, {\n      useMasterKey: true\n    }).then(res => {\n      const decoded = (0, _decode.default)(res);\n      if (decoded) {\n        return _promise.default.resolve(decoded);\n      }\n      return _promise.default.reject(new _ParseError.default(_ParseError.default.INVALID_JSON, 'The server returned an invalid response.'));\n    });\n  }\n};\n_CoreManager.default.setHooksController(DefaultController);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}